{"ast":null,"code":"import _toConsumableArray from\"D:/My React Projects work/Formik, Router Assignment/netflix-clone/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/My React Projects work/Formik, Router Assignment/netflix-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import\"./login.css\";import{useFormik}from\"formik\";import*as Yup from\"yup\";import{Error}from\"../error/error\";import{Popup}from\"../Screen-PopUp/poup\";import{RootContext}from\"../../Context/rootContext\";import{BrowserRouter as Router,Switch,Route,Link,useRouteMatch,useParams,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),popup=_useState2[0],setPopup=_useState2[1];var _useContext=useContext(RootContext),signup=_useContext.signup,setSignup=_useContext.setSignup;var _useContext2=useContext(RootContext),user=_useContext2.user,setUser=_useContext2.setUser;var history=useHistory();var loginSchema=Yup.object().shape({email:Yup.string().email().required(\"Required\"),password:Yup.string().required(\"Required\").min(8).required(\"Required\")});var formik=useFormik({initialValues:{email:\"\",password:\"\"},validationSchema:loginSchema,onSubmit:function onSubmit(values){verifySubmit(values);}});var verifySubmit=function verifySubmit(value){var users=_toConsumableArray(signup);var filter=users.filter(function(user){return user.email===value.email&&user.password===value.password;});if(filter.length>=1){localStorage.setItem(\"token\",\"B5~R'U7Bj2pG>za_1DPmr8ETEs\");localStorage.setItem(\"username\",filter[0].firstname);history.push(\"./home\");return;}pop(\"This email or passowrd does't match, Please register before login\",true);return;};var pop=function pop(massage,col){setPopup({value:true,msg:massage,color:col});setTimeout(function(){setPopup({value:false,msg:\"\",color:\"\"});},3000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"su-li-background\",children:[popup.value?/*#__PURE__*/_jsx(Popup,{msg:popup.msg,color:popup.color}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"su-li-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Unlimited movies, TV shows, and more.\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Watch anywhere. Cancel anytime.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ready to watch? Create a new accont or login if you already have one.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper-card-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"li-card-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login to your account\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"input-from\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"li-form-fields\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"li-field \",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",onChange:formik.handleChange,value:formik.values.email}),formik.errors.email&&formik.touched.email?/*#__PURE__*/_jsx(Error,{error:formik.errors.email}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"li-field \",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:formik.handleChange,value:formik.values.password}),formik.errors.password&&formik.touched.password?/*#__PURE__*/_jsx(Error,{error:formik.errors.password}):null]})]}),/*#__PURE__*/_jsx(\"input\",{className:\"li-submit\",type:\"submit\",value:\"Log In\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-link\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account yet? \"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"su-li-link\",children:\"Join Netflix\"})]})]})})]})]});};","map":{"version":3,"sources":["D:/My React Projects work/Formik, Router Assignment/netflix-clone/src/components/Login/login.js"],"names":["React","useContext","useState","useFormik","Yup","Error","Popup","RootContext","BrowserRouter","Router","Switch","Route","Link","useRouteMatch","useParams","useHistory","Login","popup","setPopup","signup","setSignup","user","setUser","history","loginSchema","object","shape","email","string","required","password","min","formik","initialValues","validationSchema","onSubmit","values","verifySubmit","value","users","filter","length","localStorage","setItem","firstname","push","pop","massage","col","msg","color","setTimeout","handleSubmit","handleChange","errors","touched"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport \"./login.css\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { Error } from \"../error/error\";\r\nimport { Popup } from \"../Screen-PopUp/poup\";\r\nimport { RootContext } from \"../../Context/rootContext\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  useRouteMatch,\r\n  useParams,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\n\r\nexport const Login = () => {\r\n  const [popup, setPopup] = useState(false);\r\n  const { signup, setSignup } = useContext(RootContext);\r\n  const { user, setUser } = useContext(RootContext);\r\n  let history = useHistory();\r\n  const loginSchema = Yup.object().shape({\r\n    email: Yup.string().email().required(\"Required\"),\r\n    password: Yup.string().required(\"Required\").min(8).required(\"Required\"),\r\n  });\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: loginSchema,\r\n    onSubmit: (values) => {\r\n      verifySubmit(values);\r\n    },\r\n  });\r\n\r\n  const verifySubmit = (value) => {\r\n    let users = [...signup];\r\n    let filter = users.filter(\r\n      (user) => user.email === value.email && user.password === value.password\r\n    );\r\n    if (filter.length >= 1) {\r\n      localStorage.setItem(\"token\", \"B5~R'U7Bj2pG>za_1DPmr8ETEs\");\r\n      localStorage.setItem(\"username\", filter[0].firstname);\r\n      history.push(\"./home\");\r\n      return;\r\n    }\r\n    pop(\r\n      \"This email or passowrd does't match, Please register before login\",\r\n      true\r\n    );\r\n    return;\r\n  };\r\n\r\n  const pop = (massage, col) => {\r\n    setPopup({ value: true, msg: massage, color: col });\r\n    setTimeout(function () {\r\n      setPopup({ value: false, msg: \"\", color: \"\" });\r\n    }, 3000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"su-li-background\">\r\n      {popup.value ? <Popup msg={popup.msg} color={popup.color} /> : null}\r\n      <div className=\"su-li-card\">\r\n        <div className=\"card-info\">\r\n          <h1>Unlimited movies, TV shows, and more.</h1>\r\n          <h2>Watch anywhere. Cancel anytime.</h2>\r\n          <h3>\r\n            Ready to watch? Create a new accont or login if you already have\r\n            one.\r\n          </h3>\r\n        </div>\r\n        <div className=\"wrapper-card-form\">\r\n          <div className=\"li-card-form\">\r\n            <h1>Login to your account</h1>\r\n            <form\r\n              action=\"\"\r\n              className=\"input-from\"\r\n              onSubmit={formik.handleSubmit}\r\n            >\r\n              <div className=\"li-form-fields\">\r\n                <div className=\"li-field \">\r\n                  <span>Username</span>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.email}\r\n                  />\r\n                  {formik.errors.email && formik.touched.email ? (\r\n                    <Error error={formik.errors.email} />\r\n                  ) : null}\r\n                </div>\r\n\r\n                <div className=\"li-field \">\r\n                  <span>Password</span>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password}\r\n                  />\r\n                  {formik.errors.password && formik.touched.password ? (\r\n                    <Error error={formik.errors.password} />\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n              <input className=\"li-submit\" type=\"submit\" value=\"Log In\" />\r\n            </form>\r\n            <div className=\"login-link\">\r\n              <span>Don't have an account yet? </span>\r\n              <Link to=\"/signup\" className=\"su-li-link\">\r\n                Join Netflix\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}